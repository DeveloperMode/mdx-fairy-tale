import { Head, Notes } from 'mdx-deck'
import { Appear, MdxImage } from '@mdx-deck/components'
import highlight from '@mdx-deck/themes/syntax-highlighter'
import { yellow as mdxTheme } from '@mdx-deck/themes'
import { Split } from '@mdx-deck/layouts'

import provider from 'components/provider'
import Header from 'components/header'
import KingMarkdown from 'components/king-markdown'
import PrincessJavaScript from 'components/princess-javascript'

export const colors = {
  black: '#0a0a0a'
}

export const theme = {
  // ...highlight,
  ...provider,
  // ...mdxTheme,
  css: {
    padding: "0 15%"
  },
  font: 'Nunito, sans-serif',
  googleFont: 'https://fonts.googleapis.com/css?family=Nunito:300,300i,700',
  colors: {
    text: colors.black,
    link: colors.black,
    code: colors.black,
    background: 'none' //colors.black
  },
  code: {
  },
  pre: {
    fontSize: `28px`,
    lineHeight: `42px`,
    color: `#fff !important`
  },
  heading: {
    textTransform: `none`
  },
  metadata: {
    author: `Josh Dzielak`,
    twitter: `@dzello`,
    hashtag: `@jamstackconf`,
    date: `May 28, 2019`,
    repository: `https://github.com/developermode/mdx-fairy-tale`
  },
}

<Head>
  <title>My kingdom for JSX in Markdown</title>
  <meta name='twitter:card' content='summary_large_image' />
  <meta name='twitter:site' content='@dzello' />
  <meta name='twitter:title' content='My kingdom for JSX in Markdown' />
  <meta name='twitter:description' content='Once upon a time, King Markdown met Princess JSX...' />
  <meta name='twitter:image' content='https://mdx-fairy-tale.developermode.com/images/mdx-fairy-tale-title-slide.png' />
  <meta property="og:title" content='My kingdom for JSX in Markdown' />
  <meta property="og:type" content="website" />
  <meta property="og:url" content='https://mdx-fairy-tale.developermode.com/' />
  <meta property="og:image" content='https://mdx-fairy-tale.developermode.com/images/mdx-fairy-tale-title-slide.png' />
  <meta property="og:description" content='Once upon a time, King Markdown met Princess JSX...' />
  <link rel='shortcut icon' type='image/png' href='/images/favicon.ico'/>
</Head>

## My kingdom for JSX in Markdown

##### by Josh Dzielak

<Notes>
Hi I’m Josh, a developer advocate and co-founder of DeveloperMode, where we do developer-relations-as-a-service.
</Notes>

---

# MDX

<Notes>
Today, I’m going to talk to you about MDX. MDX lets you put JSX components in your markdown documents, making the power of your whole JavaScript app accessible from your content. To show you how MDX can help JAMstack teams, I want to tell you a story. But since case studies can be kinda boring, I'll tell you a fairy tale instead. 

// slide is mdx, jsx in markdown, maybe show code
</Notes>

---

## Once upon a time...

<Notes>
Once upon a time, there was a king named King Markdown.
// show the castle slide
// fade in the once upon a time
</Notes>

---

<KingMarkdown />

<Notes>
King Markdown loved text-heavy, long-form content. Paragraph after paragraph, multiple sentences each.

The only gestures he knows are scrolling and turning pages.

He's so adamant about having his content his way that he built a Great Wall of Text around the kingdom, even though everyone opposed it.
</Notes>

---

<PrincessJavaScript />

<Notes>
King Markdown has a daughter, Princess JSX (“jessiks”). Not a normal name but she’s not a normal princess.

She writes code and she loves to use many different gestures to interact with her content; to tap, pinch, rotate, shake and swipe.

How'd she learn all that, growing up inside the Great Wall of Text? One night she snuck out of the kingdom and visited other kingdoms where JAMstack developers live, discovering interactive data viz and visual storytelling. Ever since then, she has been tirelessly advocating to bring this kind of content back into her own kingdom.
</Notes>

---

## Struggle

- princess vs. the king

<Notes>
So as you can imagine, there's been a lot of tension in the royal palace, similar to what some of you may have even seen in your content teams. The kingdom's content experts, known as the Royal Academy of Content, were struggling to please both king and princess.
</Notes>

---

## Royal Academy of Content

<Notes>
The academy's markdown authors wanted to make their content more interactive, but they didn't know how. "There's no way to handle events in markdown", they cried! The front-end engineers wanted to help, but they thought it would be too dangerous to let the markdown authors put arbitrary JavaScript code in their documents.
</Notes>

---

## One day

- show the tweet

<Notes>
One day, one of the engineers at the Royal Academy of Content was browsing Twitter and saw a tweet about something called MDX. He read the blog post behind the tweet and knew he thought "wow, this could be the perfect solution"
</Notes>

---

## The Kingdom Rejoices

<Notes>
The engineer stayed up all night coding and built a prototype.

Both the engineers and the content authors fell in love with MDX and started to make content that everyone could enjoy, no matter their age or screen size. Because traffic was up across the board, even the king was happy.

The new content was really engaging. It took full advantage of the capabilities of people's devices, letting them scroll and tap, pinch, rotate, shake, swipe, flip, rotate, watch gifs and videos, and more.
</Notes>

---

## Happy Ending

<Notes>
Don't you just love it when stories have a happy ending?

I bet you're thinking, I want to see some of this MDX. This is a tech conference, I paid good money, I want to see some code. Do y'all want to see some code?

Ok let's do it. (Put on glasses). You can never be too careful when you let someone else see your code.
</Notes>

---

<KingMarkdown />

<Notes>
Abracodabra!
*point sceptre at screen*
*code appears*

A-ha! All along, King Markdown was just an JSX component. I embedded it here in my slides, which are written in MDX using a framework called mdx-deck. 
</Notes>

---

# deck.mdx

# components/KingMarkdown.js

<Notes>
(navigate with higlighter, not magnifier, do H first then M later)
On the left is the section of the MDX file for this slide.

On the right is the definition of the KingMarkdown component. On hover, the component superimposes code (and shoots stars?). We triggered the hover with this, the magical Royal Sceptre, but we could have used a mouse too.

The KingMarkdown component exposes some props that make it customizable and reusable, so we can use it in other places of our content.
</Notes>

---

<KingMarkdown size="small" action="speak" />

# deck.mdx code on the right

<Notes>
*change slide, then point at the king*
Here's a king that's smaller and speaks when we click on it, instead of showing the code. When we hover, it animates.

Already, I hope I've made this presentation a little more fun and engaging because we can interact with it.
</Notes>

---

<KingMarkdown size="small" />
<PrincessJavaScript size="small" />

<Notes>
But let's take it a bit further. Can we compose an entire scene with MDX? Yes. MDX lets us nest and compose our JSX components, just like we're used to.

For example, we can put the princess in a castle.
</Notes>

---

<PrincessJavaScript size="small" />

<Notes>
**click on the princess**
She says something.
**click on the castle**
It says shake the door loose.
**shake the royal sceptre**
Castle explodes, princess is free, and grateful.
</Notes>

---

# Screenshots of MDX use cases

Maybe with JSX tag next to them

<Notes>
If I can do this in a presentation, imagine how you can use MDX on your JAMstack site. You can add common widgets like forms and emoji reactions, wrap elements of your design systems, or let authors build entire pages from JSX components. Authors only need to learn a familiar, HTML-like syntax, and never write raw JavaScript.
</Notes>

---

# Logos

<Notes>
MDX Plugins exist for Gatsby, Next.js and much more. Try MDX soon and bring peace and awesomeness to your content kingdom.
</Notes>

---

- thank you component, animates in a few seconds

<Notes>
Thank you.
</Notes>