import React from 'react'
import {
  LiveProvider,
  LiveEditor,
  LiveError,
  LivePreview
} from 'react-live'

import { Head, Notes, Image as MdxImage  } from 'mdx-deck'
import { Appear } from '@mdx-deck/components'
import { Split, Horizontal } from '@mdx-deck/layouts'
import Box from '@mdx-deck/layouts/src/Box'
import Flex from '@mdx-deck/layouts/src/Flex'
import prismTheme from 'prism-react-renderer/themes/github'

import AppearOnly from './components/AppearOnly'
import Code from './components/Code'
import CodeWrapper from './components/CodeWrapper'
import Image from './components/Image'
import Provider from './components/Provider'
import Header from './components/Header'
import JSplit from './components/Split'
import JHorizontal from './components/Horizontal'
import { Caption } from './components/Styled'

import KingMarkdown from './components/KingMarkdown'
import KingMarkdownStatic from './components/KingMarkdownStatic'
import PrincessJavaScript from './components/PrincessJavaScript'

import fairyTale from './themes/fairy-tale'
import * as snippets from './snippets/index'


export const theme = {
  Provider,
  ...fairyTale,
  components: {
    img: Image
  },
  metadata: {
    author: `Josh Dzielak`,
    twitter: `@dzello`,
    event_twitter: `@jamstackconf`,
    event_twitter_link: `https://twitter.com/jamstackconf`,
    date: `July 9, 2019`,
    repository: `https://github.com/developermode/mdx-fairy-tale`
  },
}

<Head>
  <title>MDX: content for kings and princesses</title>
  <meta name='twitter:card' content='summary_large_image' />
  <meta name='twitter:site' content='@dzello' />
  <meta name='twitter:title' content='MDX: content for kings and princesses' />
  <meta name='twitter:description' content='' />
  <meta name='twitter:image' content='https://mdx-fairy-tale.developermode.com/images/mdx-fairy-tale-title-slide.png' />
  <meta property="og:title" content='MDX: content for kings and princesses' />
  <meta property="og:type" content="website" />
  <meta property="og:url" content='https://mdx-fairy-tale.developermode.com/' />
  <meta property="og:image" content='https://mdx-fairy-tale.developermode.com/images/mdx-fairy-tale-title-slide.png' />
  <meta property="og:description" content='' />
  <link rel='shortcut icon' type='image/png' href='/images/favicon.ico'/>
</Head>

# üëë üë∏

# MDX: content for kings <br/> and princesses

<Notes>
Hello everyone and welcome. It's a privilege to be speaking to you tonight.
</Notes>

---

<JHorizontal>
<div>
<h1>&lt;Josh&gt;</h1>
</div>

<AppearOnly>
  <Image src="/images/josh-dzielak-crown.png" css={{ width: '30vw', borderRadius: '250px' }} />
  <div>
    <Image src="/images/algolia-logo.png" />
  </div>
  <div>
    <Image src="/images/developermode-logo-2.png" />
  </div>
</AppearOnly>

<div>
<h1>&lt;/Josh &gt;</h1>
</div>

</JHorizontal>

<Notes>
My name is Josh and I'm a JAMstack enthusiast. ^^ Formerly I was the lead of developer relations at Algolia, ^^ and now I'm the cofounder of DeveloperMode, where we help companies improve their developer relations programs. We also build projects that educate and inform developers, and that means we get to play with new technologies.
</Notes>

---

<img src="/images/mdx-logo.svg" css={{ width: "30vw" }}/>

## MDX = Markdown + JSX

<Notes>
One of my favorite new technologies is called MDX. MDX allows content authors to embed JSX components inside of their markdown documents, giving them more power and making it easier to create rich, interactive content.
</Notes>

---

<img src="/images/awesome-stacks-gatsby-screenshot.png" style={{ height: "95vh", border: "1px solid #cacaca" }} />

<Notes>
I first found MDX when I was building a project called Awesome Stacks. Awesome Stacks is an awesome list for tech stacks. The data is stored in a GitHub readme, and from that a Gatsby site is built, which pulls in data from the GitHub and StackShare GraphQL APIs.
</Notes>

---

<img src="/images/awesome-stacks-gatsby-screenshot-2.png" style={{ height: "95vh", border: "1px solid #cacaca" }} />

<Notes>
I created React components to show a card with information about each tool, and wanted to make those cards embeddable inside markdown, so the author of each stack could decide where best to place them in the flow of content.

This is just one way MDX can be used, and there are many for JAMstack teams. But before I go into those, I want to talk abotu fundamentally why a technology like MDX matters. What problem does it solve? To do that, I want to tell you a story. But since case studies can be kinda boring, and we're at a pub, I'm going to tell you a fairy tale instead. 
</Notes>

---

# üìú

# Once upon a time...

<Notes>
Once upon a time, there was a king named King Markdown.
</Notes>

---

<AppearOnly>
<div>
  <KingMarkdown hoverable={false} />
  <h2>King Markdown</h2>
</div>
<JHorizontal>
  <KingMarkdown src="/images/king-markdown-2.png" hoverable={false} />
  <Image src="/images/endless-text.png" style={{ height: '100vh' }} />
</JHorizontal>
<JHorizontal>
  <KingMarkdown src="/images/king-markdown-2.png" hoverable={false} />
  <Image src="/images/great-wall-of-text-2.png" style={{ height: '60vh', opacity: '0.8', borderRadius: '400px', margin: '-250px 0 0 -450px' }} />
</JHorizontal>
</AppearOnly>

<Notes>
King Markdown loved text-heavy, long-form content. ^^ Paragraph after paragraph, of multiple sentences each. Few images, if any. The only gesture he knows is scrolling.

King Markdown is so adamant about having his content his way that he tried to build a Great Wall of Text at the kingdom's southern border, but no one thought it was a good idea and he never got the money to do it.
</Notes>

---

<AppearOnly>
<div>
  <PrincessJavaScript hoverable={false} />
  <h2>Princess JavaScript</h2>
</div>
<JHorizontal width='70vw'>
  <PrincessJavaScript src="/images/princess-javascript-2.png" hoverable={false} />
  <Image src="/images/gestures.png" style={{ height: '50vh' }} />
</JHorizontal>
<JHorizontal width='70vw'>
  <PrincessJavaScript src="/images/princess-javascript-2.png" hoverable={false} />
  <Image src="/images/pump-up-the-jam.png" style={{ height: '40vh' }} />
</JHorizontal>
</AppearOnly>

<Notes>
King Markdown had a daughter, Princess JavaScript. That's not a normal name but she‚Äôs not a normal princess.

Princess JavaScript is a trained developer, she loves beautiful and responsive interfaces, and she likes to use many different gestures to interact with her content; to tap, pinch, rotate, shake and swipe.

How'd she learn to do that, growing up around so much markdown? One night she snuck out of the kingdom and visited the JAMstack Kingdom, encountering beautiful sites full of visual storytelling and data visualization and runnable code samples. Ever since then, she has been tirelessly advocating to bring this kind of content back into her own kingdom.
</Notes>

---

<JHorizontal width='70vw'>
<KingMarkdown src="/images/king-markdown-3.png" hoverable={false} />
<h1 style={{ fontSize: '128px' }}>‚öîÔ∏è</h1>
<PrincessJavaScript src="/images/princess-javascript-3-left.png" hoverable={false} />
</JHorizontal>

<Notes>
As you can imagine, there's been a lot of tension in the royal palace, similar to what some of you may have even seen in your content teams. Although some readers prefer very linear, textual content, others prefer more dynamic and interactive content, that lets them do more than just scroll. Content teams, then and now, struggle to serve both audiences and keep up with the latest trends.
</Notes>

---

<AppearOnly>
<div>
  <img src="/images/adventure-time-dance-party-border.gif" style={{ height: '50vh' }} />
  <h2>Royal Academy of Content</h2>
</div>
<JHorizontal width="70vw">
  <div>
    <img src="/images/adventure-time-dance-party-border.gif" style={{ height: '30vh' }} />
    <div style={{ color: "#555", fontSize: "24px" }}>Royal Academy of Content</div>
  </div>
  <h4>But...<br/>"Content authors don't know JavaScript!"</h4>
</JHorizontal>
<JHorizontal width="70vw">
  <div>
    <img src="/images/adventure-time-dance-party-border.gif" style={{ height: '30vh' }} />
    <div style={{ color: "#555", fontSize: "24px" }}>Royal Academy of Content</div>
  </div>
  <h4>But... <br/>"Markdown can't handle events!"</h4>
</JHorizontal>
</AppearOnly>

<Notes>
The kingdom's multi-disciplinary content experts were known as the Royal Academy of Content. They were struggling to please both the king and princess, and they were also losing traffic to other kingdoms, who were more willing to experiment.

The academy's markdown authors wanted to make their content more interactive, but they didn't know how. "There's no way to handle events in markdown", they cried! The front-end engineers wanted to help, but they thought it would be too dangerous to let the markdown authors put arbitrary JavaScript code in their documents, and knew that it wouldn't be fair or efficient to expect content authors to learn too much JavaScript.
</Notes>

---

<AppearOnly>
<div>
  <img src="/images/academy-heros-2.png" css={{ width: '25vw' }} />
</div>
<JHorizontal width="80vw">
  <div>
    <img src="/images/academy-heros-2.png" css={{ width: '25vw' }} />
  </div>
  <div>
    <img src="/images/mdx-montage.png" css={{ width: '40vw' }} />
  </div>
</JHorizontal>
<JHorizontal width="70vw">
  <div>
    <img src="/images/king-markdown-2.png" css={{ width: '15vw' }} />
  </div>
  <div>
    <img src="/images/adventure-time-dance-party.gif" css={{ width: '40vw' }} />
  </div>
</JHorizontal>
</AppearOnly>

<Notes>
One day, several of the engineers at the Royal Academy of Content were traveling the internets in search of a solution, when they encountered a bunch of community blog posts about MDX. ^^ They read the posts and thought "wow, this could be just what we've been looking for!".

The engineers stayed up all night pair-programming and built a prototype of a news article with a responsive, interactive timeline, and the rest was history. ^^ The kingdom rejoiced. Because traffic was up across the board, even the king was happy.
</Notes>

---

<AppearOnly>
<JHorizontal width="75vw" style={{  }}>
  <div style={{ textAlign: 'right', marginRight: '100px' }}>
    <h3>Content <br/>interactions:</h3>
  </div>
  <CodeWrapper>
    <h3>Markdown</h3>
    <div>read, scroll</div>
    <p></p>
  </CodeWrapper>
</JHorizontal>
<JHorizontal width="75vw" style={{  }}>
  <div style={{ textAlign: 'right', marginRight: '100px' }}>
    <h3>Content <br/>interactions:</h3>
  </div>
  <CodeWrapper>
    <h3>Markdown + JSX</h3>
    <div>read, scroll, click, <br/> tap, pinch, zoom, <br/> rotate, keypress, shake, <br/> run, drag, drop, <br/> swipe, flip, rotate</div>
    <p></p>
  </CodeWrapper>
</JHorizontal>
</AppearOnly>

<Notes>
The new content was really engaging and easy for content authors to create. It took better advantage of the capabilities of people's devices and learning styles, letting them scroll and tap, pinch, rotate, shake, swipe, flip, rotate, and more.

I bet you're thinking, I want to see some of this MDX. This is a tech conference, I paid good money, I want to see some code. Do y'all want to see some code?
</Notes>

---

# üï∂Ô∏è

# To the code!

<Notes>
Ok me too. (Put on glasses). You can never be too careful when you let someone else see your code.

Thankfully I brought the Royal Sceptre with me today, which is capable of inspecting code at a distance. It is indeed a prop made to inspect props. Let's see if the Royal Sceptre can find some code on this slide.
</Notes>

---

<KingMarkdown codeSnippet={snippets.jsx1} />

<Notes>
Searching, searching, searching... a ha!

The scepter has found some code after all. All along, King Markdown was just a React component. Like most React components, it accepts props, has event handlers, and renders some DOM, in this case an image. This component is actually embedded here in my slides, for real. The slides are written in MDX using a really great framework called mdx-deck. 
</Notes>

---

<AppearOnly>
<JHorizontal>
  <div>
    <KingMarkdown height="50vh" hoverable={false} />
  </div>
  <div>
    <CodeWrapper>
      <Code>
        {snippets.mdx1}
      </Code>
    </CodeWrapper>
  </div>
</JHorizontal>
<JHorizontal>
  <div>
    <KingMarkdown height="75vh" hoverable={false} />
  </div>
  <div>
    <CodeWrapper>
    <Code>
      {snippets.mdx2}
    </Code>
    </CodeWrapper>
  </div>
</JHorizontal>
<JHorizontal>
  <div>
    <KingMarkdown height="75vh" src="/images/king-markdown-2.png" hoverable={false} />
  </div>
  <div>
    <CodeWrapper>
    <Code>
      {snippets.mdx3}
    </Code>
    </CodeWrapper>
  </div>
</JHorizontal>
</AppearOnly>

<Notes>
To embed the KingMarkdown component in my slides, I import it and use JSX syntax. The KingMarkdown component exposes some props that make it customizable and reusable, so we can use it in other places of our content.

This king accepts a height prop, which we've set to 50% of viewport height.

This king is taller - 75% of viewport height.

This king is taller and has a different image.
</Notes>

---

<LiveProvider code={snippets.liveCode}
    scope={{ KingMarkdown: KingMarkdownStatic, PrincessJavaScript }}>
  <JHorizontal width="90vw">
    <LivePreview />
    <CodeWrapper>
      <LiveEditor style={{ fontFamily: 'Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace', fontSize: '22px', lineHeight: "42px", background: 'none', caretColor: '#0a0a0a' }} theme={prismTheme} />
    </CodeWrapper>
  </JHorizontal>
</LiveProvider>

<Notes>
Heck, because the presentation is MDX and we have a running React app, we can actually change the values of the props on the fly.

I'll click into the MDX definition and let's change the King's properties. Maybe the king is lonely and needs some friends.

I hope I've made this presentation a little more fun and engaging because we can interact with it. If I can do this in a presentation, imagine how you can use MDX on your JAMstack site.
</Notes>

---

## Use MDX for:

<br/>

<JHorizontal width="80vw">
<div>
üóØÔ∏è Site widgets
<br/><br/>
üë®‚Äçüé® Visual storytelling
</div>
<div>
üíÖ Design systems
<br/><br/>
üöú Page building
</div>
</JHorizontal>

<p>&nbsp;</p>

<Notes>
Three areas where there is clear potential is in site widgets like forms, social widgets and comments, visual storytelling and data visualization, wrapping design systems so that authors can take advantage of them. And you could even let authors build entire pages from a standard set of blocks.
</Notes>

---

## Try MDX in your app:

<br/>

<JHorizontal width="90vw">
<div>
<img src="/images/gatsby-logo.png" style={{ width: "15vw" }} />
<br/><br/>
<img src="/images/parcel-logo.png" style={{ width: "20vw" }} />
</div>
<div>
<img src="/images/nextjs-logo.png" style={{ width: "12vw" }} />
<br/><br/>
<img src="/images/webpack-logo.png" style={{ width: "18vw" }} />
</div>
<div>
.. and more!
</div>
</JHorizontal>

<Notes>
MDX Plugins exist for Gatsby, Next.js and much more. Try MDX soon and bring peace and awesomeness to your content kingdom.
</Notes>

---

# üôè<br/> Thank you!

<Notes>
Thank you.
</Notes>