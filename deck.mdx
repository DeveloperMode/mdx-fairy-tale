import { Head, Notes, Image as MdxImage  } from 'mdx-deck'
import { Appear } from '@mdx-deck/components'
import { Split, Horizontal } from '@mdx-deck/layouts'
import Box from '@mdx-deck/layouts/src/Box'
import Flex from '@mdx-deck/layouts/src/Flex'

import AppearOnly from 'components/AppearOnly'
import Image from 'components/Image'
import Provider from 'components/provider'
import Header from 'components/header'
import JSplit from 'components/Split'
import JHorizontal from 'components/Horizontal'
import KingMarkdown from 'components/king-markdown'
import PrincessJavaScript from 'components/princess-javascript'

export const colors = {
  black: '#0a0a0a'
}

export const theme = {
  Provider,
  font: 'Crimson Text, serif',
  googleFont: 'https://fonts.googleapis.com/css?family=Crimson+Text',
  colors: {
    text: colors.black,
    link: colors.black,
    code: colors.black,
  },
  Slide: {
    background: 'url(/images/fairy-tale-castle-o25.jpg) no-repeat center center',
    backgroundSize: 'cover'
  },
  pre: {
    // fontSize: `28px`,
    // lineHeight: `42px`,
    // color: `#fff !important`
  },
  metadata: {
    author: `Josh Dzielak`,
    twitter: `@dzello`,
    event_twitter: `@jamstackconf`,
    event_twitter_link: `https://twitter.com/jamstackconf`,
    date: `July 9, 2019`,
    repository: `https://github.com/developermode/mdx-fairy-tale`
  },
  components: {
    img: Image
  }
}

<Head>
  <title>MDX: content for kings and princesses</title>
  <meta name='twitter:card' content='summary_large_image' />
  <meta name='twitter:site' content='@dzello' />
  <meta name='twitter:title' content='MDX: content for kings and princesses' />
  <meta name='twitter:description' content='' />
  <meta name='twitter:image' content='https://mdx-fairy-tale.developermode.com/images/mdx-fairy-tale-title-slide.png' />
  <meta property="og:title" content='MDX: content for kings and princesses' />
  <meta property="og:type" content="website" />
  <meta property="og:url" content='https://mdx-fairy-tale.developermode.com/' />
  <meta property="og:image" content='https://mdx-fairy-tale.developermode.com/images/mdx-fairy-tale-title-slide.png' />
  <meta property="og:description" content='' />
  <link rel='shortcut icon' type='image/png' href='/images/favicon.ico'/>
</Head>

# üëë üë∏<br/> MDX: content for kings and princesses

---

<JSplit>
<h1>I'm Josh</h1>

<AppearOnly>
<div>
<Image src="/images/josh-dzielak-profile-2019.jpg" css={{ borderRadius: '50px' }} />
</div>
<div>
<img src="/images/algolia-logo.png" />
</div>
<div>
<img src="/images/developermode-logo-black.png" />
</div>
</AppearOnly>

</JSplit>

<Notes>
Hi I‚Äôm Josh, a developer advocate formerly at Algolia and now the co-founder of DeveloperMode, where we do developer-relations-as-a-service and get to play with lots of cool tech. Like MDX, which is what I'll talk to you about tonight.
</Notes>

---

<img src="/images/mdx-logo.svg" css={{ width: "50vw" }}/>

## MDX = Markdown + JSX

<Notes>
MDX lets you put JSX components in your markdown documents, making the power of your whole JavaScript app accessible from your content. To show you how MDX can help JAMstack teams, I want to tell you a story. But since case studies can be kinda boring, I'll tell you a fairy tale instead. 
</Notes>

---

# üìú<br/> Once upon a time...

<Notes>
Once upon a time, there was a king named King Markdown.
</Notes>

---

<div><KingMarkdown /></div>

<Appear>
<div>just scrolling</div>
<div>great wall of text</div>
</Appear>

<Notes>
King Markdown loved text-heavy, long-form content. Paragraph after paragraph, multiple sentences each.

The only gestures he knows are scrolling and turning pages.

He's so adamant about having his content his way that he built a Great Wall of Text around the kingdom, even though everyone opposed it.
</Notes>

---

<div><PrincessJavaScript /></div>

<Appear>
<div>gestures</div>
<div>discovering jamstack</div>
</Appear>

<Notes>
King Markdown has a daughter, Princess JavaScript. Not a normal name but she‚Äôs not a normal princess.

She writes code and she loves to use many different gestures to interact with her content; to tap, pinch, rotate, shake and swipe.

How'd she learn all that, growing up inside the Great Wall of Text? One night she snuck out of the kingdom and visited other kingdoms where JAMstack developers live, discovering interactive data viz and visual storytelling. Ever since then, she has been tirelessly advocating to bring this kind of content back into her own kingdom.
</Notes>

---

<JHorizontal>
<PrincessJavaScript />
<h1>üòñ</h1>
<KingMarkdown />
</JHorizontal>

<Notes>
So as you can imagine, there's been a lot of tension in the royal palace, similar to what some of you may have even seen in your content teams. The kingdom's content experts, known as the Royal Academy of Content, were struggling to please both king and princess.
</Notes>

---

# üìØ<br/> Royal Academy of Content

<Flex>
<Box width={1/3}>
Markdown can't handle events!
</Box>
<Box width={1/3}>
Content authors don't know JavaScript!
</Box>
</Flex>

<Notes>
The academy's markdown authors wanted to make their content more interactive, but they didn't know how. "There's no way to handle events in markdown", they cried! The front-end engineers wanted to help, but they thought it would be too dangerous to let the markdown authors put arbitrary JavaScript code in their documents.
</Notes>

---

# Then one day...

<img src="/images/zeit-mdx-tweet.png" css={{ width: '30vw' }} />

<Notes>
One day, one of the engineers at the Royal Academy of Content was browsing Twitter and saw a tweet about something called MDX. He read the blog post behind the tweet and knew he thought "wow, this could be the perfect solution"
</Notes>

---

# üéâ<br/> The Kingdom Rejoices

<Flex>
<Box width={1/3}>
content you can tap, pinch, rotate, shake, swipe, flip, rotate & more
</Box>
</Flex>

<Notes>
The engineer stayed up all night coding and built a prototype of a news article with an interactive timeline, and the rest was history.

Both the engineers and the content authors fell in love with MDX and started to make content spiced up with components that everyone could enjoy, no matter their age or screen size. Because traffic was up across the board, even the king was happy.

The new content was really engaging. It took full advantage of the capabilities of people's devices, letting them scroll and tap, pinch, rotate, shake, swipe, flip, rotate, watch gifs and videos, and more.

Don't you just love it when stories have a happy ending?

I bet you're thinking, I want to see some of this MDX. This is a tech conference, I paid good money, I want to see some code. Do y'all want to see some code?

Ok let's do it. (Put on glasses). You can never be too careful when you let someone else see your code.
</Notes>

---

# üîé

<KingMarkdown />

<Notes>
Abracodabra!
*point sceptre at screen*
*code appears*

A-ha! All along, King Markdown was just an JSX component. I embedded it here in my slides, which are written in MDX using a framework called mdx-deck. 
</Notes>

---

<JHorizontal>
<div>
deck.mdx
</div>
<div>
components/KingMarkdown.js
</div>
</JHorizontal>

<Notes>
(navigate with higlighter, not magnifier, do H first then M later)
On the left is the section of the MDX file for this slide.

On the right is the definition of the KingMarkdown component. On hover, the component superimposes code (and shoots stars?). We triggered the hover with this, the magical Royal Sceptre, but we could have used a mouse too.

The KingMarkdown component exposes some props that make it customizable and reusable, so we can use it in other places of our content.
</Notes>

---

<KingMarkdown size="small" action="speak" />

deck.mdx code on the right

<Notes>
*change slide, then point at the king*
Here's a king that's smaller and speaks when we click on it, instead of showing the code. When we hover, it animates.

Already, I hope I've made this presentation a little more fun and engaging because we can interact with it.
</Notes>

---

<KingMarkdown size="small" />
<PrincessJavaScript size="small" />

<Notes>
But let's take it a bit further. Can we compose an entire scene with MDX? Yes. MDX lets us nest and compose our JSX components, just like we're used to.

For example, we can put the princess in a castle.
</Notes>

---

<PrincessJavaScript size="small" />

<Notes>
**click on the princess**
She says something.
**click on the castle**
It says shake the door loose.
**shake the royal sceptre**
Castle explodes, princess is free, and grateful.
</Notes>

---

# Screenshots of MDX use cases

Maybe with JSX tag next to them

<Notes>
If I can do this in a presentation, imagine how you can use MDX on your JAMstack site. You can add common widgets like forms and emoji reactions, wrap elements of your design systems, or let authors build entire pages from JSX components. Authors only need to learn a familiar, HTML-like syntax, and never write raw JavaScript.
</Notes>

---

# Logos

<Notes>
MDX Plugins exist for Gatsby, Next.js and much more. Try MDX soon and bring peace and awesomeness to your content kingdom.
</Notes>

---

# üôè<br/> Thank you!

<Notes>
Thank you.
</Notes>